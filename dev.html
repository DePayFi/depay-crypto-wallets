<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/png" href="https://depay.fi/favicon.png"/>
    <title>Development</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://cdn.ethers.io/lib/ethers-5.4.umd.min.js" type="application/javascript"></script>
    <script crossorigin src="https://unpkg.com/depay-web3-blockchains@2/dist/umd/index.js"></script>
    <script crossorigin src="https://unpkg.com/@walletconnect/client@1"></script>
    <script crossorigin src="https://unpkg.com/@walletconnect/qrcode-modal@1"></script>
    <script src="dist/umd/index.js"></script>
  </head>
  <body>
    <div class="container">

      <div class="row pt-5">
        <div class="col">
          <h1>Wallet Name</h1>
          <p>Retrieves the name of the connect crypto wallet</p>
          <button class='btn btn-primary' onClick='alert(Web3Wallets.getWallet().name)'>Test it</button>
        </div>
      </div>

      <div class="row pt-5">
        <div class="col">
          <h1>Wallet Connect</h1>
          <p>Connects to the available crypto wallet</p>
          <script>
            window.connectWallet = async function(){
              alert(await Web3Wallets.getWallet().connect() + " connected")
            }
          </script>
          <button class='btn btn-primary' onClick='window.connectWallet()'>Test it</button>
        </div>
      </div>

      <div class="row pt-5">
        <div class="col">
          <h1>Wallet Changes Account</h1>
          <p>Executes callback function in case event happens</p>
          <script>
            window.setupAccountChanged = async function(){
              Web3Wallets.getWallet().on('account', (newAccount)=>{
                alert(newAccount)
              })
              alert('Now change the wallet account!')
            }
          </script>
          <button class='btn btn-primary' onClick='window.setupAccountChanged()'>Test it</button>
        </div>
      </div>

      <div class="row pt-5">
        <div class="col">
          <h1>Wallet Changes Network</h1>
          <p>Executes callback function in case event happens</p>
          <script>
            window.setupNetworkChanged = async function(){
              Web3Wallets.getWallet().on('network', (newNetwork)=>{
                alert(newNetwork)
              })
              alert('Now change the wallet network!')
            }
          </script>
          <button class='btn btn-primary' onClick='window.setupNetworkChanged()'>Test it</button>
        </div>
      </div>

      <div class="row pt-5">
        <div class="col">
          <h1>Wallet Debug</h1>
          <p>Yields the entire window.ethereum</p>
          <button class='btn btn-primary' onClick='alert(Object.keys(window.ethereum))'>Test it</button>
        </div>
      </div>

      <div class="row pt-5">
        <div class="col">
          <h1>WalletConnect connect</h1>
          <p>Test wallet connect</p>
          <button class='btn btn-primary' onClick='Web3Wallets.wallets.WalletConnect.connect()'>Test it</button>
        </div>
      </div>

      <div class="row pt-5">
        <div class="col">
          <h1>Send transaction</h1>
          <p></p>
          <button class='btn btn-primary' onClick='Web3Wallets.getWallet().sendTransaction({ transaction: { blockchain: "ethereum", to: "0x08B277154218CCF3380CAE48d630DA13462E3950", value: "1000000000000000" } })'>Test it</button>
        </div>
      </div>
    </div>
  </body>
</html>
